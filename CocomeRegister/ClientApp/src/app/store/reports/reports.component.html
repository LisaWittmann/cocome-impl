<div class="reports page-container">
    <div class="container">
        <div id="store-reports">           
            <section>
                <h1>Bericht vom {{ date }}</h1>
            </section>
            <section>
                <h2>{{ store.name }}</h2>
                <p>
                    Geschäftstelle {{ store.id }}<br>
                    {{ store.postalCode }} {{ store.city }}
                </p>
            </section>
            <section>
                <h2>Jahresumsatz</h2>
                <canvas id="salesChart">{{ salesChart }}</canvas>
                <table *ngIf="salesData && salesData.length" class="legend">
                    <thead>
                        <tr>
                            <td></td>
                            <td *ngFor="let item of salesLegend">
                                {{ item }}
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let report of salesData">
                            <td class="thead">{{ report.label }}</td>
                            <td *ngFor="let entry of report.dataset">
                                {{ entry.toFixed(0) }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section *ngIf="inventory.length">
                <h2>Lagerbestand</h2>
                <canvas id="inventoryChart">{{ inventoryChart }}</canvas>
                <table class="legend">
                    <thead>
                        <tr>
                            <td>Artikelnummer</td>
                            <td>Produktname</td>
                            <td>Preis</td>
                            <td>Verkaufspreis</td>
                            <td>Bestand</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of inventory">
                            <td>{{ item.product.id }}</td>
                            <td>{{ item.product.name }}</td>
                            <td>{{ item.product.price.toFixed(2) }} €</td>
                            <td>{{ item.product.salePrice.toFixed(2) }} €</td>
                            <td>{{ item.stock }}</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
    </div>
</div>